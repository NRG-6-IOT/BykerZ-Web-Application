<div class="page">
  <div class="header-card">
    <div class="header-content">
      <div class="owner-info">
        <span class="label">ASSIGNMENT DETAILS</span>
        <h1 class="page-title">{{ assignment?.owner?.completeName }}</h1>
      </div>

      <div class="meta-info">
        <div class="info-pill">
          <span class="pill-label">{{ 'assignments.assignmentDetailPage.code' | translate }}</span>
          <span class="pill-value code">{{ assignment?.assignmentCode }}</span>
        </div>

        <div class="separator"></div>

        <div class="info-pill">
          <span class="pill-label">{{ 'assignments.assignmentDetailPage.type' | translate }}</span>
          <app-assignment-type-selector [assignmentType]="assignment?.type" (typeChanged)="handleTypeChange($event)"></app-assignment-type-selector>
        </div>
      </div>
    </div>
  </div>

  <div class="vehicles-section">
    <h2 class="section-title">
      {{ 'assignments.assignmentDetailPage.associatedMotorbikes' | translate }}
      <span class="count-badge" *ngIf="vehicles.length > 0">{{ vehicles.length }}</span>
    </h2>

    @if (vehicles.length === 0) {
      <div class="empty-state">
        <div class="icon-motorcycle">üèçÔ∏è</div>
        <p>{{ 'assignments.assignmentDetailPage.noAssociatedMotorbikes' | translate }}</p>
      </div>
    } @else {
      <div class="vehicle-grid">
        @for (vehicle of vehicles; let i = $index; track vehicle.id) {
          <app-assign-vehicle-card
            class="grid-item"
            style="--delay: {{i * 0.1}}s"
            [vehicle]="vehicle">
          </app-assign-vehicle-card>
        }
      </div>
    }
  </div>
</div>
