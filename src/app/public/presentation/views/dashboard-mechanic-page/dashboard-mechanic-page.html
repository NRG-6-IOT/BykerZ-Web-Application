<div class="dashboard-container">
  <div class="dashboard-header">
    <div class="welcome-section">
      <h1 class="page-title">{{'dashboard.mechanic.title' | translate}}</h1>
      <p class="subtitle">{{'dashboard.mechanic.subtitle' | translate}}</p>
    </div>
  </div>

  <div class="mechanic-grid">
    <div class="dash-card subs-card">
      <div class="card-header orange">
        <mat-icon class="header-icon">group</mat-icon>
        <h3>{{'dashboard.mechanic.activeSubscriptions' | translate}}</h3>
      </div>
      <div class="card-body list">
        @for (assignment of mechanicAssignments(); track assignment.id) {
          <div class="client-row" [routerLink]="['/assignments', assignment.id]">
            <div class="avatar-circle">{{ assignment.owner?.completeName?.charAt(0) }}</div>
            <span class="client-name">{{ assignment.owner?.completeName }}</span>
            <mat-icon class="arrow">chevron_right</mat-icon>
          </div>
        }
      </div>
    </div>

    <div class="dash-card member-card">
      <div class="card-header dark">
        <mat-icon class="header-icon">card_membership</mat-icon>
        <h3>{{'dashboard.mechanic.membershipStatus' | translate}}</h3>
      </div>
      <div class="card-body center-content">
        <div class="status-ring">
          <span class="plan-name">BLACK</span>
          <span class="plan-label">PLAN</span>
        </div>
        <div class="time-remaining">
          <span class="time-val">36d</span>
          <span class="time-label">Remaining</span>
        </div>
      </div>
    </div>

    <div class="dash-card work-card">
      <div class="card-header">
        <mat-icon class="header-icon">calendar_today</mat-icon>
        <h3>{{'dashboard.mechanic.upcomingWork' | translate}}</h3>
      </div>
      <div class="card-body list">
        @for (maintenance of mechanicMaintenances(); track maintenance.id) {
          <div class="work-item" [routerLink]="['/maintenances', 'mechanic']">
            <div class="work-date">
              <span>{{ maintenance.dateOfService | date:'dd MMM' }}</span>
            </div>
            <div class="work-details">
              <span class="work-vehicle">{{ getVehicleById(maintenance.vehicleId)()?.model?.name }}</span>
              <span class="work-client">{{ getVehicleById(maintenance.vehicleId)()?.owner?.completeName }}</span>
            </div>
          </div>
        }
      </div>
    </div>
  </div>
</div>
